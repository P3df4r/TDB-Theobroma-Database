import { getConf, } from '@jbrowse/core/configuration';
import { types } from 'mobx-state-tree';
export default function stateModelFactory(pluginManager, configSchema) {
    const WigglePlugin = pluginManager.getPlugin('WigglePlugin');
    const { linearWiggleDisplayModelFactory } = WigglePlugin.exports;
    return types
        .compose('LinearGCContentDisplay', linearWiggleDisplayModelFactory(pluginManager, configSchema), types.model({
        type: types.literal('LinearGCContentDisplay'),
    }))
        .views(self => {
        const { renderProps: superRenderProps } = self;
        return {
            renderProps() {
                const sequenceAdapter = getConf(self.parentTrack, 'adapter');
                return {
                    ...superRenderProps(),
                    adapterConfig: {
                        type: 'GCContentAdapter',
                        sequenceAdapter,
                    },
                };
            },
        };
    });
}
//# sourceMappingURL=stateModel.js.map