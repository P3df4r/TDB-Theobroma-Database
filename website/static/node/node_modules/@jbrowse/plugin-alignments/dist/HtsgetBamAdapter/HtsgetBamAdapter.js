"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const bam_1 = require("@gmod/bam");
const BamAdapter_1 = __importDefault(require("../BamAdapter/BamAdapter"));
class HtsgetBamAdapter extends BamAdapter_1.default {
    async configurePre() {
        const htsgetBase = this.getConf('htsgetBase');
        const htsgetTrackId = this.getConf('htsgetTrackId');
        const bam = new bam_1.HtsgetFile({
            baseUrl: htsgetBase,
            trackId: htsgetTrackId,
        });
        const adapterConfig = this.getConf('sequenceAdapter');
        if (adapterConfig && this.getSubAdapter) {
            const adapter = await this.getSubAdapter(adapterConfig);
            return {
                bam,
                sequenceAdapter: adapter.dataAdapter,
            };
        }
        return { bam };
    }
}
exports.default = HtsgetBamAdapter;
//# sourceMappingURL=HtsgetBamAdapter.js.map